!function(){"use strict";var e=window.wp.element,t=window.wp.blocks,n=window.wp.blockEditor,a=window.wp.components,o=window.wp.i18n;const{Icon:l}=wp.components;var i=window.React;const{Component:s}=wp.element,{Spinner:c}=wp.components;var r=t=>{let{attributes:n}=t;const[a,o]=(0,i.useState)(!0),[l,s]=(0,i.useState)(""),[r,p]=(0,i.useState)(""),{map_id:m,width:d,height:g}=n;return(0,i.useEffect)((()=>{((e,t,n)=>{o(!0),s(""),wp.apiFetch({path:"geo-maps/v1/maps/"+e,method:"POST",data:{width:t,height:n}}).then((e=>{void 0!==e.template?(o(!1),p(e.template)):void 0!==e.message?s(e.message):s("Something went wrong, please contact at wpmatrixaddons@gmail.com")})).catch((e=>{s("Something went wrong, please contact at wpmatrixaddons@gmail.com")}))})(m,d,g)}),[m,d,g]),(0,i.useEffect)((()=>{window.geo_maps_ready_call()}),[r]),""!==l?(0,e.createElement)("div",{style:{height:"500px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"#f9f9f9",border:"1px solid #ddd",textAlign:"center",fontSize:"15px"}},(0,e.createElement)("h2",null,l)):a?(0,e.createElement)("div",{style:{height:"500px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"#f9f9f9",border:"1px solid #ddd"}},(0,e.createElement)(c,null)):r?(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"geo-maps-block-wrap",dangerouslySetInnerHTML:{__html:r}})):(0,e.createElement)("div",{style:{height:"500px",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",background:"#f9f9f9",border:"1px solid #ddd",textAlign:"center",fontSize:"15px"}},(0,e.createElement)("h2",null,l))};(0,t.registerBlockType)("geo-maps/map",{apiVersion:2,title:(0,o.__)("Geo Maps","geo-maps"),description:(0,o.__)("This block is used to show map","geo-maps"),icon:()=>(0,e.createElement)(l,{icon:(0,e.createElement)("svg",{height:"512",viewBox:"0 0 293.334 293.334",width:"512",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("g",null,(0,e.createElement)("path",{fill:"red",d:"M146.667,0C94.903,0,52.946,41.957,52.946,93.721c0,22.322,7.849,42.789,20.891,58.878    c4.204,5.178,11.237,13.331,14.903,18.906c21.109,32.069,48.19,78.643,56.082,116.864c1.354,6.527,2.986,6.641,4.743,0.212    c5.629-20.609,20.228-65.639,50.377-112.757c3.595-5.619,10.884-13.483,15.409-18.379c6.554-7.098,12.009-15.224,16.154-24.084    c5.651-12.086,8.882-25.466,8.882-39.629C240.387,41.962,198.43,0,146.667,0z M146.667,144.358    c-28.892,0-52.313-23.421-52.313-52.313c0-28.887,23.421-52.307,52.313-52.307s52.313,23.421,52.313,52.307    C198.98,120.938,175.559,144.358,146.667,144.358z"})))}),keywords:[(0,o.__)("map"),(0,o.__)("google map"),(0,o.__)("openstreet map")],edit:t=>{const{attributes:l,setAttributes:i}=t,s=(0,n.useBlockProps)();return(0,e.createElement)("div",s,(0,e.createElement)(r,{attributes:l}),(0,e.createElement)(n.InspectorControls,{key:"setting"},(0,e.createElement)("div",{id:"geo-maps-controls"},(0,e.createElement)(a.Panel,null,(0,e.createElement)(a.PanelBody,{title:(0,o.__)("Geo Map Settings","geo-maps"),initialOpen:!0},(0,e.createElement)(a.SelectControl,{label:(0,o.__)("Select Map","geo-maps"),value:l.map_id,options:geoMapsBlock.all_maps,onChange:e=>(e=>{i({map_id:e})})(e)}),(0,e.createElement)(a.TextControl,{label:(0,o.__)("Map Height[px or %]","geo-maps"),value:l.height,onChange:e=>{i({height:e})}}),(0,e.createElement)(a.TextControl,{label:(0,o.__)("Map Width[px or %]","geo-maps"),value:l.width,onChange:e=>{i({width:e})}}))))))}})}();